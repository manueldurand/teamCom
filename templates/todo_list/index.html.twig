{% extends 'base.html.twig' %}

{% block title %}Todolist{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Todo List : </h1>
    <a href="{{path('new_todo')}}"><button>Ajouter</button></a>
<table>
<thead>
<tr>
<td>n°</td><td>date</td><td>description</td><td>comment</td>
</tr>
</thead>
<tbody>
    {% for todo in todo_list%}
<tr>
<td>{{ todo.id }}</td>
<td>{{ todo.created|date("d/m/Y") }}</td>
<td>{{ todo.description }}</td>
<td>{{ todo.comment }}</td>
<td><form action="todolist/delete/{{todo.id}}" method="post">
    {# the argument of csrf_token() is an arbitrary string used to generate the token #}
    <input type="hidden" name="token" value="{{ csrf_token('delete-item') }}"/>

    <button type="submit">Supprimer</button>
</form></td>
</tr>
{% endfor %}
<a href="{{path('logout')}}" ><button>se déconnecter</button></a>



</div>
{#<a href="/todolist/delete/{{todo.id}}" ><button>SUPPRIMER</button></a>
{{ url('/todolist/delete', { id: todo.id }) }}#}
{% endblock %}
